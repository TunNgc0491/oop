<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="main :: layout (~{::body})">
<body>
  <div th:fragment="content">
    <h2>Danh sách Giao dịch</h2>
    <table border="1" cellpadding="8" style="border-collapse: collapse; width: 100%;">
      <thead>
        <tr>
          <th>ID</th>
          <th>Khách hàng</th>
          <th>SĐT</th>
          <th>Sản phẩm</th>
          <th>Giá</th>
          <th>Kích thước</th>
          <th>Ảnh SP</th>
          <th>Thời gian</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="gd : ${giaodichList}">
          <td th:text="${gd.id}">1</td>
          <td th:text="${gd.khachHang.ten}">Nguyễn Văn A</td>
          <td th:text="${gd.khachHang.sdt}">0912345678</td>
          <td th:text="${gd.sanPham.name}">Áo Thun</td>
          <td th:text="${#numbers.formatDecimal(gd.sanPham.price, 0, 'COMMA', 2, 'POINT')} + ' VND'">150,000 VND</td>
          <td th:text="${gd.sanPham.size}">42</td>
          <td>
            <img th:src="${gd.sanPham.imageURL}" alt="Ảnh SP" width="80"
                 onerror="this.onerror=null;this.src='https://via.placeholder.com/80';" />
          </td>
          <td th:text="${#dates.format(gd.thoiGian, 'dd/MM/yyyy HH:mm')}">13/08/2025 10:30</td>
        </tr>
      </tbody>
    </table>
  </div>
</body>
</html>
